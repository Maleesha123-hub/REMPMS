<c-col xs="12">
  <c-card class="mb-4">
    <c-card-body>
      <form [formGroup]="cityForm" cForm>
        <div class="row">
          <input id="id_city" formControlName="idCity" type="hidden">
          <div class="col-md-4">
            <div class="mb-3">
              <label cLabel>City name</label>
              <input cFormControl
                     formControlName="cityName"
                     id="city_name"
                     placeholder="Enter city name"
                     type="text"
              />
            </div>

            <!-- Display error messages for cityName field -->
            <div
              *ngIf="cityForm.get('cityName').errors?.required && cityForm.get('cityName').touched">
              <p class="form-validation">City name is required.</p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="mb-3">
              <label cLabel>Zipcode</label>
              <input cFormControl
                     formControlName="cityZipCode"
                     id="city_zipcode"
                     placeholder="Enter zipcode"
                     type="text"
              />
            </div>

            <!-- Display error messages for cityZipCode field -->
            <div
              *ngIf="cityForm.get('cityZipCode').errors?.required && cityForm.get('cityZipCode').touched">
              <p class="form-validation">City zip code is required.</p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="mb-3">
              <label cLabel>Country</label>
              <select aria-label="Small select example" cSelect class="mb-3"
                      formControlName="idCountry"
                      id="city_country_id_country" (change)="onCountryChange($event)">
                <option value="-1">Select a country</option>
                <option *ngFor="let country of countries"
                        [value]="country.idCountry">{{country.countryName}}</option>
              </select>
            </div>

            <!-- Display error messages for idCountry field -->
            <div
              *ngIf="cityForm.get('idCountry').errors?.required && cityForm.get('idCountry').touched">
              <p class="form-validation">Country is required.</p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="mb-3">
              <label cLabel>Province</label>
              <select aria-label="Small select example" cSelect class="mb-3"
                      formControlName="idProvince"
                      id="city_province_id_province" (change)="onProvinceChange($event)">
                <option value="-1">Select a province</option>
                <option *ngFor="let province of provinces"
                        [value]="province.idProvince">{{province.provinceName}}</option>
              </select>
            </div>

            <!-- Display error messages for idProvince field -->
            <div
              *ngIf="cityForm.get('idProvince').errors?.required && cityForm.get('idProvince').touched">
              <p class="form-validation">Province is required.</p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="mb-3">
              <label cLabel>District</label>
              <select aria-label="Small select example" cSelect class="mb-3"
                      formControlName="idDistrict"
                      id="city_district_id_district">
                <option value="-1">Select a district</option>
                <option *ngFor="let district of districts"
                        [value]="district.idDistrict">{{district.districtName}}</option>
              </select>
            </div>

            <!-- Display error messages for idDistrict field -->
            <div
              *ngIf="cityForm.get('idDistrict').errors?.required && cityForm.get('idDistrict').touched">
              <p class="form-validation">District is required.</p>
            </div>
          </div>

          <div class="col-md-4">
            <div class="mb-3">
              <label cLabel>Status</label>
              <select aria-label="Small select example" cSelect class="mb-3"
                      formControlName="commonStatus"
                      id="city_common_status">
                <option value="-1">Select a status</option>
                <option value="Active">Active</option>
                <option value="In_Active">In active</option>
              </select>
            </div>

            <!-- Display error messages for commonStatus field -->
            <div
              *ngIf="cityForm.get('commonStatus').errors?.required && cityForm.get('commonStatus').touched">
              <p class="form-validation">Status is required.</p>
            </div>
          </div>

          <div class="d-flex justify-content-end mt-3">
            <input cButton class="me-1" color="primary" type="button" value="Create" (click)="saveUpdateCity()">
            <input cButton class="me-1" color="success" type="submit" value="Reset" style="color: white"
                   (click)="resetCityForm()">
          </div>

        </div>
      </form>
    </c-card-body>
  </c-card>
</c-col>

<c-col xs="12">
  <c-card class="mb-4">
    <c-card-body>
      <table [striped]="true" cTable>
        <thead>
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Zipcode</th>
          <th scope="col">Country</th>
          <th scope="col">Province</th>
          <th scope="col">District</th>
          <th scope="col">Status</th>
          <th scope="col">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let city of cities">
          <td>{{city.cityName}}</td>
          <td>{{city.cityZipCode}}</td>
          <td>{{city.country.countryName}}</td>
          <td>{{city.province.provinceName}}</td>
          <td>{{city.district.districtName}}</td>
          <td>{{city.commonStatus}}</td>
          <td>
            <input cButton class="me-1" color="primary" type="button" value="Edit" size="sm"
                   (click)="getActiveCityById(city.idCity)">
            <input cButton class="me-1" color="danger" type="button" value="Delete" size="sm"
                   style="color: white" (click)="deleteCityById(city.idCity)">
          </td>
        </tr>
        </tbody>
      </table>
    </c-card-body>
  </c-card>
</c-col>
